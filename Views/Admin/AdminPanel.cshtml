<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <link rel="stylesheet" href="~/css/site.css" />
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/adminPanel.js" asp-append-version="true"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(function () {
            hideProductsButtons();
        });
    </script>
</head>
<body>
    <h1>Admin Panel</h1>

    <button onclick="viewOrders()">View Orders</button>

    <div id="productsButtons" style="display: none;">
        <button onclick="addProduct()" >Add Product</button>
    </div>
    <button onclick="viewProducts()">View Products</button>

    <button onclick="viewUsers()">View Users</button>
    <div id="users"></div>


    <!-- Table placeholders for displaying fetched data -->
    <div id="ordersTable"></div>
    <div id="productsTable"></div>
    <div id="usersTable"></div>

    <!-- Additional modals, forms, or sections to manage product edits, role assignments, etc. -->
    <!-- Product Edit Modal -->
    <div id="productEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeProductModal()">&times;</span>
            <h2>Edit Product</h2>
            <form id="productEditForm">
                <!-- The rest of your form inputs go here -->
                <input type="hidden" id="editProductId" />
                <label for="editProductName">Name:</label>
                <input type="text" id="editProductName" name="name" required />
                <label for="editProductPrice">Price:</label>
                <input type="text" id="editProductPrice" name="price" required />
                <label for="editProductDescription">Description:</label>
                <input type="text" id="editProductDescription" name="description" required />
                <label for="editProductImage">Image:</label>
                <input type="text" id="editProductImageUrl" name="image" required />
                <input type="submit" value="Save" />
            </form>
        </div>
    </div>

    <!-- Product Add Modal -->
    <div id="productAddModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeProductModal()">&times;</span>
            <h2>Add Product</h2>
            <form id="productAddForm">
                <label for="addProductName">Name:</label>
                <input type="text" id="addProductName" name="name" required />
                <label for="addProductPrice">Price:</label>
                <input type="text" id="addProductPrice" name="price" required />
                <label for="addProductDescription">Description:</label>
                <input type="text" id="addProductDescription" name="description" required />
                <label for="addProductImage">Image:</label>
                <input type="text" id="addProductImageUrl" name="image" required />
                <input type="submit" value="Save" />
            </form>
        </div>
    </div>

    <!-- User Edit Modal -->
    <div id="userEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeUserModal()">&times;</span>
            <h2>Edit User</h2>
            <form id="userEditForm">
                <input type="hidden" id="editUserId" />
                <label for="editUserEmail">Email:</label>
                <input type="text" id="editUserEmail" name="email" required />
                <label for="editUserPassword">Password:</label>
                <input type="text" id="editUserPassword" name="password" required />
                <label for="editUserIsAdmin">Role:</label>
                <select id="editUserIsAdmin" name="isAdmin" required>
                    <option value="Admin">Admin</option>
                    <option value="Customer">Customer</option>
                </select>
                <input type="submit" value="Save" />
            </form>
        </div>
    </div>

    <!-- Order Edit Modal -->
    <div id="orderEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeOrderModal()">&times;</span>
            <h2>Edit Order</h2>
            <form id="orderEditForm">
                <input type="hidden" id="editOrderId" />
                <label for="editUserId">User ID:</label>
                <input type="text" id="editUserId" name="userId" required />
                <label for="editOrderDate">Order Date:</label>
                <input type="text" id="editOrderDate" name="orderDate" required />
                <label for="editOrderTotal">Total:</label>
                <input type="text" id="editOrderTotal" name="total" required />
                <input type="submit" value="Save" />
            </form>
        </div>
    </div>

    <!-- Modal for displaying errors -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeErrorModal()">&times;</span>
            <h2>Error</h2>
            <p id="errorMessage"></p>
        </div>
    </div>

    <!-- Modal for displaying success messages -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSuccessModal()">&times;</span>
            <h2>Success</h2>
            <p id="successMessage"></p>
        </div>
    </div>

    <div id="reportSection">
        <h2>Reports</h2>
        <select id="reportType">
            <option value="userActivity">User Activity</option>
            <option value="salesSummary">Sales Summary</option>
            <!-- other report types -->
        </select>
        <button onclick="generateReport()">Generate Report</button>
        <div id="reportOutput">
            <!-- Report output will be displayed here -->
        </div>
    </div>

</body>
</html>
